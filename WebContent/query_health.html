<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<title>集装箱_健康监控</title>
<meta
	content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no"
	name="viewport">

<link rel="stylesheet"
	href="resources/css/AdminLTEcss/bootstrap.min.css">

<!-- Font Awesome 对应小标志-->
<!-- <link rel="stylesheet"
	href="resources/css/AdminLTEcss/font-awesome.min.css"> -->

<!-- Ionicons -->
<link rel="stylesheet" href="resources/css/AdminLTEcss/ionicons.min.css">

<!-- Theme style -->
<link rel="stylesheet" href="resources/css/AdminLTEcss/AdminLTE.min.css">

<!-- AdminLTE Skins. Choose a skin from the css/skins folder instead of downloading all of them to reduce the load. -->
<link rel="stylesheet"
	href="resources/css/AdminLTEcss/_all-skins.min.css">

<!-- Morris chart -->
<link rel="stylesheet" href="resources/css/AdminLTEcss/morris.css">

<!-- jvectormap -->
<link rel="stylesheet"
	href="resources/css/AdminLTEcss/jquery-jvectormap.css">

<!-- Date Picker -->
<link rel="stylesheet"
	href="resources/css/AdminLTEcss/bootstrap-datepicker.min.css">

<!-- Daterange picker -->
<link rel="stylesheet"
	href="resources/css/AdminLTEcss/daterangepicker.css">

<!-- bootstrap wysihtml5 - text editor -->
<link rel="stylesheet"
	href="resources/css/AdminLTEcss/bootstrap3-wysihtml5.min.css">

<!--expand_css-修改index.html页面标题-->
<link rel="stylesheet" href="resources/css/AdminLTEcss/title.css">

<!--expand_css-修改index.html页面地图-->
<link rel="stylesheet" href="resources/css/AdminLTEcss/map.css">

<!--expand_css-修改index.html页面箱子状态-->
<link rel="stylesheet" href="resources/css/AdminLTEcss/box_status.css">
<!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
<!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
<!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
    <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <script src="resources/jquery/jquery-3.2.1.min.js"></script>
    <script src="resources/echarts/echarts.min.js"></script>
    <script src="http://echarts.baidu.com/build/dist/echarts.js"></script>
    <![endif]-->

<!-- Google Font -->
<link rel="stylesheet"
	href="https://fonts.googleapis.com/css?family=Source+Sans+Pro:300,400,600,700,300italic,400italic,600italic">

<!-- jQuery 3 -->
<script src="resources/js/AdminLTEjs/jquery.min.js"></script>

<!-- jQuery UI 1.11.4 -->
<script src="resources/js/AdminLTEjs/jquery-ui.min.js"></script>

<!-- Resolve conflict in jQuery UI tooltip with Bootstrap tooltip -->
<script>
	$.widget.bridge('uibutton', $.ui.button);
</script>

<!-- Bootstrap 3.3.7 -->
<script src="resources/echarts/echarts.min.js"></script>
<script src="resources/echarts/china.js"></script>
<script src="resources/js/AdminLTEjs/bootstrap.min.js"></script>

<!-- Morris.js charts -->
<script src="resources/js/AdminLTEjs/raphael.min.js"></script>
<script src="resources/js/AdminLTEjs/morris.min.js"></script>

<!-- Sparkline -->
<script src="resources/js/AdminLTEjs/jquery.sparkline.min.js"></script>

<!-- jvectormap -->
<script src="resources/js/AdminLTEjs/jquery-jvectormap-1.2.2.min.js"></script>
<script src="resources/js/AdminLTEjs/jquery-jvectormap-world-mill-en.js"></script>

<!-- jQuery Knob Chart -->
<script src="resources/js/AdminLTEjs/jquery.knob.min.js"></script>

<!-- daterangepicker -->
<script src="resources/js/AdminLTEjs/moment.min.js"></script>
<script src="resources/js/AdminLTEjs/daterangepicker.js"></script>

<!-- datepicker -->
<script src="resources/js/AdminLTEjs/bootstrap-datepicker.min.js"></script>

<!-- Bootstrap WYSIHTML5 -->
<script src="resources/js/AdminLTEjs/bootstrap3-wysihtml5.all.min.js"></script>

<!-- Slimscroll -->
<script src="resources/js/AdminLTEjs/jquery.slimscroll.min.js"></script>

<!-- FastClick -->
<script src="resources/js/AdminLTEjs/fastclick.js"></script>

<!-- AdminLTE App -->
<script src="resources/js/AdminLTEjs/adminlte.min.js"></script>

<!-- AdminLTE dashboard demo (This is only for demo purposes) -->
<script src="resources/js/AdminLTEjs/dashboard.js"></script>

<!-- AdminLTE for demo purposes -->
<script src="resources/js/AdminLTEjs/demo.js"></script>
</head>
<body class="hold-transition skin-blue sidebar-mini"
	style="background-color: black">
	<div class="wrapper">
		<!--包裹整个网站-->

		<header class="main-header">
			<!--控制标志和导航栏-->
			<!-- Logo -->
			<a href="index2.html" class="logo"> <!-- mini logo for sidebar mini 50x50 pixels -->
				<span class="logo-mini"><b>A</b>LT</span> <!-- logo for regular state and mobile devices -->
				<!--<span class="logo-lg"><b>Admin</b>LTE</span>--> <span
				class="logo-lg">集装箱管理</span>
			</a>
			<!-- Header Navbar: style can be found in header.less -->
			<nav class="navbar navbar-static-top">
				<!-- Sidebar toggle button-->
				<div style="width:; height: 0px;" id="big_title" class="title">
					中铁集装箱全生命周期远程智能健康管理与运维服务</div>
				<div class="navbar-custom-menu">
					<ul class="nav navbar-nav">
						<!-- Notifications: style can be found in dropdown.less -->
						<!-- User Account: style can be found in dropdown.less -->
						<li class="dropdown user user-menu"><a href="#"
							class="dropdown-toggle" data-toggle="dropdown"> <img
								src="resources/jpg/AdminLTEjpg/user2-160x160.jpg"
								class="user-image" alt="User Image"> <span
								class="hidden-xs">管理员1</span>
						</a>
							<ul class="dropdown-menu">
								<!-- User image -->
								<li class="user-header"><img
									src="resources/jpg/AdminLTEjpg/user2-160x160.jpg"
									class="img-circle" alt="User Image">

									<p>
										管理员1 - 健康监测员
										<!--<small>Member since Nov. 2017</small>-->
									</p></li>
								<!-- Menu Footer-->
								<li class="user-footer">
									<div class="pull-left">
										<a href="#" class="btn btn-default btn-flat">人员简介</a>
									</div>
									<div class="pull-right">
										<a href="#" class="btn btn-default btn-flat">退出</a>
									</div>
								</li>
							</ul></li>
						<!-- Control Sidebar Toggle Button -->
						<li><a href="#" data-toggle="control-sidebar"><i
								class="fa fa-gears"></i></a></li>
					</ul>
				</div>
			</nav>
		</header>
		<!-- Left side column. contains the logo and sidebar -->
		<aside class="main-sidebar">
			<!--aside用于文章的侧栏-->
			<!-- sidebar: style can be found in sidebar.less -->
			<section class="sidebar">
				<!-- Sidebar user panel -->
				<div class="user-panel">
					<div class="pull-left image">
						<img src="resources/jpg/AdminLTEjpg/user2-160x160.jpg"
							class="img-circle" alt="User Image">
					</div>
					<div class="pull-left info">
						<p>管理员1</p>
						<a href="#"><i class="fa fa-circle text-success"></i> 在线</a>
					</div>
				</div>
				<ul class="sidebar-menu" data-widget="tree">
					<li class="header">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;集装箱管理平台</li>
					<!--<li class="active treeview">-->
					<li><a href="health_monitor_container.html"> <i class="fa fa-dashboard"></i> <span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;健康监测</span>
							<span class="pull-right-container"> </span>
					</a></li>
					<li><a href="#"> <i class="fa fa-files-o"></i> <span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;健康查询</span>
							<span class="pull-right-container"> </span>
					</a></li>
					<li><a href="health_predict.html"> <i
							class="fa fa-pie-chart"></i> <span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;健康预测</span>
							<span class="pull-right-container"> </span>
					</a></li>
					<li class="treeview"><a href="#"> <i class="fa fa-laptop"></i>
							<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;健康分析</span>
							<span class="pull-right-container"> </span>
					</a>
						<!-- <ul class="treeview-menu">
							<li><a href="pages/UI/general.html"><i
									class="fa fa-circle-o"></i> General</a></li>
							<li><a href="pages/UI/icons.html"><i
									class="fa fa-circle-o"></i> Icons</a></li>
							<li><a href="pages/UI/buttons.html"><i
									class="fa fa-circle-o"></i> Buttons</a></li>
							<li><a href="pages/UI/sliders.html"><i
									class="fa fa-circle-o"></i> Sliders</a></li>
							<li><a href="pages/UI/timeline.html"><i
									class="fa fa-circle-o"></i> Timeline</a></li>
							<li><a href="pages/UI/modals.html"><i
									class="fa fa-circle-o"></i> Modals</a></li>
						</ul> -->
						</li>
					<li class="treeview"><a href="#"> <i class="fa fa-edit"></i>
							<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;维修建议</span>
							<span class="pull-right-container"> </span>
					</a>
						<!-- <ul class="treeview-menu">
							<li><a href="pages/forms/general.html"><i
									class="fa fa-circle-o"></i> General Elements</a></li>
							<li><a href="pages/forms/advanced.html"><i
									class="fa fa-circle-o"></i> Advanced Elements</a></li>
							<li><a href="pages/forms/editors.html"><i
									class="fa fa-circle-o"></i> Editors</a></li>
						</ul> -->
						</li>

					<li class="header">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;数据平台</li>
					<li><a href="#"><i class="fa fa-circle-o text-red"></i> <span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;基础数据</span></a></li>
					<li><a href="#"><i class="fa fa-circle-o text-yellow"></i>
							<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;参数设置</span></a></li>
				</ul>
			</section>
			<!-- /.sidebar -->
		</aside>

		<!-- Content Wrapper. Contains page content  -->
		<!--控制网页标题和内容-->
		<div class="content-wrapper"
			style="padding-top: 0px; padding-left: 0px; padding-right: 0px; padding-bottom: 0px; background-color: #404a59">
			<div class="container" style="width: 100%; height: 100%">
				<div class="row clearfix" style="">
					<div class="input-group col-md-4"
						style="margin: 0 auto; positon:relative">
						<form action = "#" method="post" class="search">
						<input type="text" name="xhdm" class="" style="height:38px;width:260px;margin-top:5px;font-size:100%" placeholder="请输入箱号代码"/>
						<input type="button" class="btn" style="margin-top:-3px" value="查询">
						</form>
						<!-- <span class="input-group-btn">
							<button class="btn btn-info btn-search" type="submit">查找</button>
							<button class="btn btn-info btn-search" type="submit">查找</button>
						</span> -->
					</div>
				</div>
				<script>
				
				</script>
				<div class="row clearfix" style="">
					<div class="col-sm-8 col-md-8 col-lg-8"
						style="padding: 0px; margin: 0px">
						<div id="health_control" style="width: 100%; height: 500%;"></div>
						<script src="resources/js/AdminLTEjs/echarts3.6.2.js"></script>
						<script src="resources/js/AdminLTEjs/china.js"></script>
						 <script>
	var temp = [];
	function btn(){
		var $btn = $("input.btn");
		//给按钮绑定点击事件
		$btn.bind("click",function(){
			//给按钮绑定点击
			$.ajax({
				type:"post",
				url:"executeAjaxJsonA",
				data:{
					xhdm:$("input[name=xhdm]").val()
				},
				dataType:"json",
				success:function(result){
					temp = eval("("+result+")");
					$(document).ready(function(){
						$("font#location").html(temp.location);
						$("font#health_now").html(temp.health10);
					})
					var myChart = echarts.init(document.getElementById('health_control'));
					//data
					var a = [];
					//btn(a);					
					var convertData = function(temp){
						var res = [];
						console.log("我是天");
						console.log(temp);
						console.log("我是谁");
						res[0] = temp.health1;
						res[1] = temp.health2;
						res[2] = temp.health3;
						res[3] = temp.health4;
						res[4] = temp.health5;
						res[5] = temp.health6;
						res[6] = temp.health7;
						res[7] = temp.health8;
						res[8] = temp.health9;
						res[9] = temp.health10;
						return res;
					}
					option_health = {
						title : {
							text : temp.xhdm + '集装箱健康度',
							textStyle : {
								color : 'yellow',
								// fontStyle:'宋体',
								fontWeight : 'normal',
								fontSize : 20
							}
						},

						xAxis : {
							axisLine : {
								lineStyle : {
									color : 'white'
								}
							},
							data : [ '2007年', '2008年', '2009年', '2010年', '2011年',
									'2012年', '2013年', '2014年', '2015年', '2016年' ]
						},
						tooltip : {
							trigger : 'item',
							formatter : function(params) {
								var res;
								res = params.name+'健康度:' + '<br>';
								res += params.data;
								return res;
							}
						},
						yAxis : {
							axisLine : {
								lineStyle : {
									color : 'white'
								}
							},
							splitLine : {
								show : false
							}
						},
						series : [ {
							type : 'line',
							lineStyle : {
								normal : {
									color : 'yellow'
								}
							},
							data : convertData(temp)
						} ]
					};
					// 使用刚指定的配置项和数据显示图表。
					myChart.setOption(option_health);
				},
				error:function(){
					alert("系统异常，请稍后重试！");
				}
			});
		})
	};
	/* 页面加载完成，绑定事件 */
	 $(document).ready(function(){
		 btn();
	 });
	 console.log("tttttt:");
	console.log(temp);
		// 基于准备好的dom，初始化echarts实例
	
	</script>               
					</div>

					<div class="col-sm-4 col-md-4 col-lg-4"
						style="padding: 0px; height: 110%">
						<div style="background-color: #404a59; padding: 0px">
							
							<div class="row clearfix" style="padding:0px">
								<p style="color: #FFF68F; font-size: 20px">
									&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;所在地： <font
										size="6" color="white" id="location"></font>
								</p>
								<br>
								<p style="color: #FFF68F; font-size: 20px">
									&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;现阶段健康值： <font
										size="6" color="white" id="health_now"></font>
								</p>
							</div>
							<div class="row clearfix" style="padding:0px">
							<script src="resources/js/AdminLTEjs/echarts3.6.2.js"></script>
								<div id = "component_percentage" style="width: 100%; height: 350%;">
								<script>
								console.log("今天运气好");
								
								var myChart = echarts.init(document.getElementById('component_percentage'));
								option_health = {
									    title : {
									        text: '集装箱部件影响健康占比',
									        subtext: '',
									        x:'center',
									        textStyle:{
									            fontWeight:'normal',
									            color:'#FFF68F'
									        }
									    },
									    tooltip : {
									        trigger: 'item',
									        formatter: "部件对整体重要性 <br/>{b} : {d}%"
									    },
									    legend: {
									        orient: 'vertical',
									        left: 'left',
									        data: ['直接访问','邮件营销','联盟广告','视频广告','搜索引擎']
									    },
									    series : [
									        {
									            name: '访问来源',
									            type: 'pie',
									            radius : '55%',
									            center: ['50%', '60%'],
									            data:[
									                {value:5, name:'把手'},
									                {value:20, name:'胶合木地板'},
									                {value:15, name:'叉槽侧板'},
									                {value:15, name:'地板'},
									                {value:15, name:'门舌板'},
									                {value:5, name:'标记'},
									                {value:15, name:'铰链板'},
									                {value:10, name:'顶波波板'},
									                {value:15, name:'侧薄板'},
									                {value:15, name:'门板'},
									                {value:10, name:'大导向架'},
									                {value:5, name:'锁头'},
									                {value:5, name:'J杆'},
									                {value:5, name:'前端板'},
									                {value:5, name:'其他'}
									            ],
									            itemStyle: {
									                emphasis: {
									                    shadowBlur: 10,
									                    shadowOffsetX: 0,
									                    shadowColor: 'rgba(0, 0, 0, 0.5)'
									                }
									            }
									        }
									    ]
									};


								myChart.setOption(option_health);
								</script>
								</div>
							</div>
						</div>
					</div>
				</div>
				<div class="row clearfix" style="padding: 0px;">
				</div>
			</div>

			<!--</section>-->
			<!-- /.content -->
		</div>	
		<!-- /.control-sidebar -->
		<!-- Add the sidebar's background. This div must be placed
         immediately after the control sidebar -->
		<div class="control-sidebar-bg"></div>
	</div>
	<!-- ./wrapper -->


</body>
</html>